<!doctype html>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />

    <title>jMeter-Workshop</title>

    <meta name="description" content="jMeter-Workshop" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <link rel="stylesheet" href="assets/framework/reveal.js/dist/reveal.css" />
    <link rel="stylesheet" href="assets/framework/reveal.js/css/theme/simple.css" />
    <link rel="shortcut icon" href="assets/css/theme/favicon.ico" />

    <link rel="stylesheet" href="assets/markdeck/styles/github-gist.css" />

    
            <link rel="stylesheet" href="themes/mytheme/css/slides.css" />
        
    <link rel="stylesheet" href="assets/markdeck/css/markdeck.revealjs.css" />
    <link rel="stylesheet" href="assets/css/slides.css" />

    <script>
        window.pdf_render = window.location.search.match(/render=pdf/gi) != null;
        if (window.pdf_render) {
            document.write('<link rel="stylesheet" href="assets/css/render-pdf.css" type="text/css">');
        }
    </script>

    <link href="assets/css/rerendering.css" rel="stylesheet"></link>

<link rel="stylesheet" href="themes/mytheme/css/slides.css" />

</head>
<body>


    <div class="rerendering-message"><h1>R E R E N D E R I N G</h1></div>
        <div class="markdeck-logo"><a href="https://github.com/arnehilmann/markdeck">powered by markdeck</a></div>
    
    <div class="header"></div>
    <div class="footer"></div>

    <div class="reveal markdeck">
        <div class="slides">

<section id="jmeter-workshop" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">jMeter Workshop</h1>
<figure>
<img src="assets/jmeter.jpg" style="width:20.0%;height:20.0%" alt="" /><figcaption>performance testing with jMeter</figcaption>
</figure>
</section>
<section id="jmeter-workshop-1" class="level1">
<h1>jMeter Workshop</h1>
<p>Agenda:</p>
<table>
<thead>
<tr class="header">
<th>Tag 1</th>
<th>Tag 2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>(3) jMeter Plugin-Manager</td>
<td>(3) Verteiltes Testen mit jMeter</td>
</tr>
<tr class="even">
<td>(2) Strukturierung von Testplänen</td>
<td>(3) RMI</td>
</tr>
<tr class="odd">
<td>(3) Workload Design</td>
<td>(2) Monitoring</td>
</tr>
<tr class="even">
<td>(2) Scripting</td>
<td>(1) Containerisierung</td>
</tr>
<tr class="odd">
<td>(2) Reporting</td>
<td>(1) CI/CD-Pipeline</td>
</tr>
<tr class="even">
<td>(1) Testdatenverwaltung</td>
<td>Klärung offener Punkte</td>
</tr>
<tr class="odd">
<td>(1) REST-APIs</td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="jmeter-plugin-manager" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">jMeter Plugin-Manager</h1>
</section>
<section id="jmeter-plugin-manager-1" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><a href="https://jmeter-plugins.org/wiki/PluginsManager/">https://jmeter-plugins.org/wiki/PluginsManager/</a></p>
<p><img src="assets/pmgr_menu_item.png" /></p>
<p><strong>Installation:</strong></p>
<ul>
<li>lade <strong><a href="https://jmeter-plugins.org/get/">https://jmeter-plugins.org/get/</a></strong> herunter</li>
<li>kopiere <strong>jar</strong> in das jMeter-Verzeichnis <strong>lib/ext</strong></li>
</ul>
</section>
<section id="jmeter-plugin-manager-2" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>Ausführung über die Kommandozeile:</strong></p>
<p><a href="https://jmeter-plugins.org/wiki/PluginsManagerAutomated/">https://jmeter-plugins.org/wiki/PluginsManagerAutomated/</a></p>
<p><code>PluginsManagerCMD &lt;command&gt; [&lt;params&gt;]</code></p>
<p>z.B.</p>
<p><code>PluginsManagerCMD install jpgc-fifo,jpgc-json=2.2</code></p>
</section>
<section id="jmeter-plugin-manager-3" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>Falls man hinter einem Proxy ist:</strong></p>
<p><code>JVM_ARGS="-Dhttps.proxyHost=myproxy.com -Dhttps.proxyPort=8080 -Dhttp.proxyUser=john -Dhttp.proxyPass=***" PluginsManagerCMD status</code></p>
</section>
<section id="jmeter-plugin-manager-4" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>Eigenes Plugin schreiben:</strong></p>
<p><a href="https://jmeter.apache.org/usermanual/jmeter_tutorial.html">https://jmeter.apache.org/usermanual/jmeter_tutorial.html</a></p>
<p><strong>Eigenes Repository hinzufügen:</strong></p>
<p>jMeter-Property setzen:</p>
<p><code>jpgc.repo.address=https://jmeter-plugins.org/repo/;http://my.intranet.site/plugins-repo.json</code></p>
<p>Das Repository-JSON muss folgendes Format erfüllen: <a href="https://jmeter-plugins.org/wiki/PluginRepositoryDescriptorFormat/">https://jmeter-plugins.org/wiki/PluginRepositoryDescriptorFormat/</a></p>
</section>
<section id="jmeter-plugin-manager-5" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>Nützliche Plugins:</strong></p>
<ul>
<li>Custom Thread Groups</li>
<li>JMXMon Sample Collector</li>
<li>jp@gc - PerfMon</li>
<li>jp@gc - Dummy Sampler</li>
<li>jp@gc - PlanCheck</li>
</ul>
</section>
<section id="jmeter-plugin-manager-6" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>Ultimate Thread Group</strong></p>
<figure>
<img src="assets/ultimate_thread_group1.png" style="width:40.0%;height:40.0%" alt="" /><figcaption><a href="https://jmeter-plugins.org/wiki/UltimateThreadGroup/">https://jmeter-plugins.org/wiki/UltimateThreadGroup/</a></figcaption>
</figure>
</section>
<section id="jmeter-plugin-manager-7" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>Concurrency Thread Group</strong></p>
<figure>
<img src="assets/ConcurrencyThreadGroup.png" style="width:40.0%;height:40.0%" alt="" /><figcaption><a href="https://jmeter-plugins.org/wiki/ConcurrencyThreadGroup/">https://jmeter-plugins.org/wiki/ConcurrencyThreadGroup/</a></figcaption>
</figure>
</section>
<section id="jmeter-plugin-manager-8" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>jp@gc - PerfMon</strong></p>
<figure>
<img src="assets/servers_performance_monitoring.png" style="width:40.0%;height:40.0%" alt="" /><figcaption><a href="https://jmeter-plugins.org/wiki/PerfMon/">https://jmeter-plugins.org/wiki/PerfMon/</a></figcaption>
</figure>
</section>
<section id="jmeter-plugin-manager-9" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>jp@gc - Dummy Sampler</strong></p>
<figure>
<img src="assets/dummy_sampler.png" style="width:40.0%;height:40.0%" alt="" /><figcaption><a href="https://jmeter-plugins.org/wiki/DummySampler/">https://jmeter-plugins.org/wiki/DummySampler/</a></figcaption>
</figure>
</section>
<section id="jmeter-plugin-manager-10" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>jp@gc - PlanCheck</strong></p>
<p><a href="https://jmeter-plugins.org/wiki/TestPlanCheckTool/">https://jmeter-plugins.org/wiki/TestPlanCheckTool/</a></p>
<p>Usage:</p>
<p><code>jmeter/lib/ext/TestPlanCheck.sh --jmx MyTestPlan.jmx --stats --tree-dump</code></p>
</section>
<section id="jmeter-plugin-manager-11" class="level1">
<h1>jMeter Plugin-Manager</h1>
<p><strong>JMXMon Sample Collector</strong></p>
<figure>
<img src="assets/jmxmon_samples_collector.png" style="width:40.0%;height:40.0%" alt="" /><figcaption><a href="https://jmeter-plugins.org/wiki/JMXMon/">https://jmeter-plugins.org/wiki/JMXMon/</a></figcaption>
</figure>
</section>
<section id="elementestrukturierung-von-testplänen" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">Elemente/Strukturierung von Testplänen</h1>
</section>
<section id="elementestrukturierung-von-testplänen-1" class="level1">
<h1>Elemente/Strukturierung von Testplänen</h1>
<ul>
<li>Thread Groups</li>
<li>Sampler</li>
<li>Controller</li>
<li>Timers</li>
<li>Assertions</li>
<li>Listener</li>
<li>Pre-/Post-Prozessoren</li>
<li>Configuration Elements</li>
<li>Cookie-Manager</li>
<li>Header-Manager</li>
<li>Variablen / Properties</li>
<li>Testfragment</li>
<li>Templates</li>
<li>Ausführungsreihenfolge</li>
</ul>
</section>
<section id="thread-groups" class="level1">
<h1>Thread Groups</h1>
<blockquote>
<p>A Thread Group in JMeter represents a pool of virtual users performing a set of operations</p>
</blockquote>
<p><img src="assets/2.Thread_Group_User.png" /></p>
</section>
<section id="thread-groups-1" class="level1">
<h1>Thread Groups</h1>
<p><img src="assets/threadGroup.webp" /></p>
<p>Wichtigste Einstellungen:</p>
<ul>
<li>Anzahl Threads</li>
<li>Anzahl der Wiederholungen</li>
<li>Ramp-Up-Zeit einstellen (wichtig z.B. für Spike-Testing bei Ticketverkauf!)</li>
</ul>
</section>
<section id="thread-groups-2" class="level1">
<h1>Thread Groups</h1>
<p><strong>Beispiel: Google-Suche</strong></p>
<ul>
<li><p>Ein Teil der Nutzer verwendet die Text-Suche, andere die News- oder Bilder-Suche</p></li>
<li><p>Hierfür kann man verschieden Thread-Gruppen mit unterschiedlichem Thread-Count anlegen</p></li>
<li><p>In diesen Thread-Gruppen werden diverse Sampler (z.B. Http-Requests) hinzugefügt um die Benutzer-Requests zu simulieren</p></li>
</ul>
</section>
<section id="thread-groups-3" class="level1">
<h1>Thread Groups</h1>
<p><strong>Load Testing:</strong> Modeliert die erwartete Benutzung
<strong>Stress Testing:</strong> Bestimmung des Limits an Concurrent Usern bis fehler auftreten
<strong>Soak Testing:</strong> Festgelegte Load die über einen definierten Zeitraum aufrecht erhalten wird
<strong>Spike Testing:</strong> testen von schnellem Anstieg/Abfall der Load -&gt; z.B. Ticketverkauf</p>
<table>
<colgroup>
<col style="width: 28%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="header">
<th>Name</th>
<th>Use-Cases</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Thread Group (classic)</td>
<td>Einfache Szenarios, Stress Testing, Soak Testing</td>
</tr>
<tr class="even">
<td>Arrivals Thread Group</td>
<td>Soak Testing, wie verhält sich die App wenn all n-Minuten x-User hinzukommen</td>
</tr>
<tr class="odd">
<td>Free Form Arrivals Thread Group</td>
<td>Use-Cases vergleichbar mit Arrival Thread Group</td>
</tr>
<tr class="even">
<td>Concurrency Thread Group</td>
<td>Wie klassiche Threadgroup. Aber einfacher und weniger Speicherbedarf</td>
</tr>
<tr class="odd">
<td>Stepping Thread Group</td>
<td>Ältere Version der Threadgroup mit mehr Konfigurationsaufwand</td>
</tr>
<tr class="even">
<td>Ultimate Thread Group</td>
<td>Komplexe Spike Testing Szenarios</td>
</tr>
<tr class="odd">
<td>——————————-</td>
<td>———————————————————————</td>
</tr>
<tr class="even">
<td>setUp Thread Group</td>
<td>Vorbereiten der Testumgebung (z.B. VM/Container starten, DB befüllen)</td>
</tr>
<tr class="odd">
<td>tearDown Thread Group</td>
<td>Aufräumen der Testumgebung</td>
</tr>
</tbody>
</table>
</section>
<section id="sampler" class="level1">
<h1>Sampler</h1>
<p><img src="assets/Samplers.webp" /></p>
<blockquote>
<p>Durch Threadgruppen werden Benutzer-Anfragen an den Server simuliert.
Sampler legen die Art des Requests fest!</p>
</blockquote>
</section>
<section id="sampler-1" class="level1">
<h1>Sampler</h1>
<ul>
<li>FTP Request</li>
<li>HTTP Request (can be used for SOAP or REST Webservice also)</li>
<li>JDBC Request</li>
<li>Java object request</li>
<li>JMS request</li>
<li>JUnit Test request</li>
<li>LDAP Request</li>
<li>Mail request</li>
<li>OS Process request</li>
<li>TCP request</li>
</ul>
</section>
<section id="sampler-2" class="level1">
<h1>Sampler</h1>
<ul>
<li><p>Falls man mehrere Requests des gleichen Type versendet → Überlegen of <em>Defaults Configuration Element</em> nützlich sein könnte</p></li>
<li><p>OS Process request: Häufig nützlich in setUp/tearDown-Szenarien</p></li>
<li><p>Sollte man auch bei den Plugins keinen passen Sampler finden → Es lassen sich auch eigene Sampler schreiben. Häufig findet sich auch auf Github etwas!</p></li>
</ul>
</section>
<section id="controller" class="level1">
<h1>Controller</h1>
<blockquote>
<p>Logische Controller legen fest wann/welche Sampler verwendet werden</p>
</blockquote>
<p><img src="assets/LogicControllerClassification.png" /></p>
</section>
<section id="controller-1" class="level1">
<h1>Controller</h1>
<blockquote>
<p>Ziel des Module Controllers ist es Modularität zu jMeter hinzuzufügen, z.B. bei Webapps (Login, Suche, …)</p>
</blockquote>
<p><img src="assets/ModuleControllerJMeter.png" /></p>
</section>
<section id="controller-2" class="level1">
<h1>Controller</h1>
<p>Beispiel: 100 Benutzer loggen sich ein, 30 Benutzer suchen auf google und 50 Benutzer loggen sich aus</p>
<figure>
<img src="assets/TestNewPlanJMeterController.png" alt="" /><figcaption>Simple Controller ist nur ein Container für Requests</figcaption>
</figure>
</section>
<section id="controller-3" class="level1">
<h1>Controller</h1>
<p>Der Module-Controller kontrolliert welches Modul laufen soll</p>
<p><img src="assets/RunLoginModuleJMeter.png" /></p>
</section>
<section id="controller-4" class="level1">
<h1>Controller</h1>
<p>Weiter wichtige Controller:</p>
<ul>
<li><strong>Interleave Controller:</strong> wählt Request und führt diesen einaml in jedem Loop des Threads durch</li>
<li><strong>Runtime Controller:</strong> kontrolliert wie lange seine Kinder laufen dürfen</li>
<li><strong>Transaction Controller:</strong> Stoppt Gesamtzeit des Testdurchführung, z.B. Dauer des Logins</li>
<li><strong>Include Controller:</strong> Hierdurch lassen sich externe Testpläne nutzen</li>
</ul>
</section>
<section id="timers" class="level1">
<h1>Timers</h1>
<blockquote>
<p>Durch Timer läßt sich in jMeter ein Delay zwischen den Sampler definieren</p>
</blockquote>
<ul>
<li><p>Ohne delay könnten zu viele Requests in kurzer Zeit den Server überlasten</p></li>
<li><p>Fügt man mehr als einen Timer zur Thread-Gruppe summiert jMeter die Timer-Zeit und pausiert so lange</p></li>
<li><p>Um Pause an einer bestimmten Stelle im Test Plan zu machen → Flow Control Action Sampler</p></li>
</ul>
</section>
<section id="assertions" class="level1">
<h1>Assertions</h1>
<blockquote>
<p>Über Assertions läßt sich prüfen ob sich die Applikation unter Last wie erwartet verhält</p>
</blockquote>
<ul>
<li><p>Beispiel: Response enthält bestimmten Text?</p></li>
<li><p>Um Assertion-Ergebnisse anzuzeigen muss man einen entsprechenden Listener zur Thread-Gruppe hinzufügen</p></li>
</ul>
</section>
<section id="assertions-1" class="level1">
<h1>Assertions</h1>
<blockquote>
<p>Scope beachten!</p>
</blockquote>
<p><img src="assets/Screen%20Shot%202021-06-19%20at%209.06.28.png" /></p>
</section>
<section id="assertions-2" class="level1">
<h1>Assertions</h1>
<blockquote>
<p>Performance beachten!</p>
</blockquote>
<table>
<thead>
<tr class="header">
<th>Assertion</th>
<th>CPU/Memory usage</th>
<th>Info</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Response Assertion</td>
<td>moderat</td>
<td>Regular Expressions</td>
</tr>
<tr class="even">
<td>Duration Assertion</td>
<td>gering</td>
<td></td>
</tr>
<tr class="odd">
<td>Size Assertion</td>
<td>gering</td>
<td></td>
</tr>
<tr class="even">
<td>XML Assertion</td>
<td>hoch</td>
<td>Builds XML DOM Documents</td>
</tr>
<tr class="odd">
<td>Beanshell Assertion</td>
<td>Variable</td>
<td>Depends on the script logic</td>
</tr>
<tr class="even">
<td>MD5Hex Assertion</td>
<td>gering</td>
<td></td>
</tr>
<tr class="odd">
<td>HTML Assertion</td>
<td>hoch</td>
<td>Parses the HTML Response</td>
</tr>
<tr class="even">
<td>XPath Assertion</td>
<td>hoch</td>
<td>Builds XML DOM Documents</td>
</tr>
<tr class="odd">
<td>XML Schema Assertion</td>
<td>hoch</td>
<td>Builds XML DOM Documents</td>
</tr>
<tr class="even">
<td>JSR223 Assertion</td>
<td>Variable</td>
<td>Depends on the script logic</td>
</tr>
<tr class="odd">
<td>Compare Assertion</td>
<td>hoch</td>
<td>Parses responses and compares them</td>
</tr>
<tr class="even">
<td>SMIME Assertion</td>
<td>moderat</td>
<td></td>
</tr>
<tr class="odd">
<td>Json Assertion</td>
<td>hoch</td>
<td>Parses the Json document</td>
</tr>
</tbody>
</table>
<p><strong>gering:</strong> Kann ohne Probleme genutzt werden
<strong>moderat:</strong> Sparsam einsetzen, insbesondere bei größeren Serverantworten (100kbs bis mehrere MB)
<strong>hoch:</strong> größtenteils nur für funktionales Testen oder leichte Last (&lt;10 concurrent Usern) passend</p>
</section>
<section id="assertions-3" class="level1">
<h1>Assertions</h1>
<p>Beispiel: Eigene JSR223 Assertion um Durations zu prüfen</p>
<p>`
def response_time = prev.getTime().toInteger();</p>
<p>def expected_response_time = 0;</p>
<p>if (response_time &gt; expected_response_time) {
AssertionResult.setFailure(true);
AssertionResult.setFailureMessage(“The expected response time is :” + expected_response_time + “ms but it took:” + response_time + “ms”);
}
`</p>
</section>
<section id="listener" class="level1">
<h1>Listener</h1>
<p><img src="assets/Listners.webp" /></p>
<blockquote>
<p>Zeigen die Ergebnisse der Testdurchführung</p>
</blockquote>
</section>
<section id="listener-1" class="level1">
<h1>Listener</h1>
<figure>
<img src="assets/Jmeter-Listeners-3.png" alt="" /><figcaption>Arten von Listenern</figcaption>
</figure>
</section>
<section id="listener-2" class="level1">
<h1>Listener</h1>
<ul>
<li><p>Sammeln Ergebnisse von Elementen auf gleichem Level oder darunter</p></li>
<li><p>Listener können sehr Ressourcenintensiv sein, wenn es viel Samples gibt!</p>
<ul>
<li>Nicht bei Load-/Stress-Tests verwendet werden sollten:</li>
<li>Assertion Results</li>
<li>View Results in Table</li>
<li>View Results Tree</li>
</ul></li>
<li><p>Eregebnisse können auch in Files (csv, xml) zur weiterverarbeitung weggeschrieben werden</p>
<ul>
<li>Der Default der zu speichernden Werte kann in jmeter.properties bzw. user.properties definiert werden</li>
<li>für mehr Details siehe: → <embed src="https://jmeter.apache.org/usermanual/listeners.html" /></li>
</ul></li>
</ul>
</section>
<section id="listener-3" class="level1">
<h1>Listener</h1>
<p><strong>CLI-Modus:</strong> mit dem <em>-l Flag can ein Top-Level listener benutzt werden zusätzlich zu den im Testplan definierten Listenern</em></p>
<p><code>jmeter -n -t testplan.jmx -l testplan_01.jtl -j testplan_01.log</code></p>
<p>Generieren eines HTML-Reports aus .jtl-Dateien:</p>
<p>´./bin/jmeter -g JTL_FILE -o OUTPUT_FOLDER`</p>
</section>
<section id="listener-4" class="level1">
<h1>Listener</h1>
<figure>
<img src="assets/jmeter-html-report-summary.png" alt="" /><figcaption>Beispiel HTML-Dashboard</figcaption>
</figure>
<p><strong>Real-Time-Results:</strong> seit jMeter 2.13 unterstützt jMeter Real-Time-Results, z.B. für Grafana. Details: → <embed src="https://jmeter.apache.org/usermanual/realtime-results.html" /></p>
</section>
<section id="listener-5" class="level1">
<h1>Listener</h1>
<figure>
<img src="assets/grafana_dashboard.png" alt="" /><figcaption>Grafana-Beispielboard</figcaption>
</figure>
</section>
<section id="pre--und-post-prozessoren" class="level1">
<h1>Pre- und Post-Prozessoren</h1>
<blockquote>
<p>Pre-/Post-Prozessoren werden vor/nach Sampler-Request ausgeführt</p>
</blockquote>
<ul>
<li><p>Ist ein Pre-/Post-Prozessor direkt an einen Sampler angehängt wird er direkt vor/nach diesem Sampler ausgeführt</p></li>
<li><p>Häufigste Use-Cases:</p>
<ul>
<li>Pre-Prozessor:
<ul>
<li>Settings eines Requests direkt bevor er läuft verändern</li>
<li>Variablen Updaten die nicht aus dem Response-Text extrahiert werden.</li>
</ul></li>
<li>Post-Prozessor:
<ul>
<li>Verarbeiten der Response Daten, z.B extrahieren von Daten (Regex, Json, …)</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="configuration-elements" class="level1">
<h1>Configuration Elements</h1>
<p><img src="assets/ConfigurationElements.webp" /></p>
<blockquote>
<p>Arbeiten eng mit Samplern zusammen. Kann zwar keine Requests senden, diese aber verändern</p>
</blockquote>
<p>Beispiel: Setzen von Defaults und Variablen die später von Samplern verwendet werden können</p>
<ul>
<li><p>Zugriff nur innerhalb des Zweiges in dem das Element hinzugefügt wurde</p></li>
<li><p>Settings werden normalerweise gemerged, wobei Elemente tiefer im Baum vorrang haben.</p>
<ul>
<li>Ausnahme: <em>User Defined Variables</em> werden unabhängig von der Position zu Beginn des Test verarbeitet</li>
<li>→ Empfehlung daher: <em>User Defined Variables</em> sollten am Start der Thread-Gruppe positioniert werden</li>
</ul></li>
</ul>
<p>Header Manager, Cookie Manager und Authorization Manager stellen einen weitern Sonderfall dar:</p>
<ul>
<li><p>Setting werden nicht gemerged</p></li>
<li><p>Gibt es mehr als einen Manager im Scope wird nur einer verwendet. Es lässt sich allerdings nicht festlegen welcher!</p></li>
</ul>
</section>
<section id="configuration-elements-1" class="level1">
<h1>Configuration Elements</h1>
<ul>
<li><p><strong>Cache-Manager:</strong>: Falls man Last-Tests mit Cache durchführen möchte, z.B. für Web-Apps</p></li>
<li><p><strong>Cookie-Manager:</strong> Falls man Anwendung mit Cookies testen möchten, z.B. Auth bei Web-Apps</p></li>
<li><p><strong>Header-Manager:</strong> Kann HTTP Request-Header überschreiben, z.B. Authorization-Header für JWTs bei Web-Apps</p></li>
</ul>
</section>
<section id="properties-variablen" class="level1">
<h1>Properties / Variablen</h1>
<p><strong>Properties:</strong></p>
<ul>
<li><p>sind global in jMeter</p></li>
<li><p>wird meistens für jMeter Default-Werte genutzt → Beispiel: remote_hosts</p></li>
<li><p><a href="https://jmeter.apache.org/usermanual/functions.html#__property">können in Testplänen referenziert werden</a></p></li>
<li><p>setProperty kann genutzt werden um eine jMeter-Property zu definieren → Da diese Global sind können hierdurch bei Bedarf Informationen zwischen den Threads ausgetauscht werden!</p></li>
</ul>
</section>
<section id="properties-variablen-1" class="level1">
<h1>Properties / Variablen</h1>
<p><strong>Variablen:</strong></p>
<ul>
<li><p>lokal für jeden Thread</p></li>
<li><p>Wird eine Variable in einem Thread upgedated wird nur die Thread-Kopie der Variable verändert!</p></li>
<li><p>Durch den Testplan definierte Variablen und “User Defined Variables” werden zum Start innerhalb des Testplans verfügbar gemacht</p></li>
<li><p>Bei mehrfach-Definition gewinnt die letzte Definition!</p></li>
<li><p>Nützlich um Tests zu parametrisieren → Identifikation von Werten die innerhalb eines Test-Runs konstant bleiben!</p></li>
</ul>
</section>
<section id="configuration-elements-2" class="level1">
<h1>Configuration Elements</h1>
<p>Beispielparametrisierung:</p>
<table>
<thead>
<tr class="header">
<th>Variable</th>
<th>Wert</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>HOST</td>
<td>www.example.com</td>
</tr>
<tr class="even">
<td>THREADS</td>
<td>10</td>
</tr>
<tr class="odd">
<td>LOOPS</td>
<td>20</td>
</tr>
</tbody>
</table>
<p>wird zu</p>
<table>
<thead>
<tr class="header">
<th>Variable</th>
<th>Wert</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>HOST</td>
<td>${__P(host,www.example.com)}</td>
</tr>
<tr class="even">
<td>THREADS</td>
<td>${__P(threads,10)}</td>
</tr>
<tr class="odd">
<td>LOOPS</td>
<td>${__P(loops,20)}</td>
</tr>
</tbody>
</table>
<p>Aufruf: <code>jmeter … -Jhost=www3.example.org -Jloops=13</code> (Alternativ: entsprechende user.properties setzen)</p>
<p>Zugriff innerhalb des Testplans auf die Werte: ${HOST}, ${THREADS}, ${LOOPS}</p>
</section>
<section id="testfragment" class="level1">
<h1>Testfragment</h1>
<blockquote>
<p>Testfragmente sind eine spezielle Art von Controller auf Ebene des Thread Group Elements. Man unterscheidet zwischen <em>Test Fragment Nodes</em> und <em>test Fragment Files</em>. <em>Test Fragment Nodes</em> lassen sich nicht in <em>Test Fragment_Files</em> inkludieren!</p>
</blockquote>
<ul>
<li><p>wird nicht ausgeführt solange es nicht in einem Modul-Controller oder Include-Controller refereniert wird.</p>
<ul>
<li>→ Ermöglicht gleichzeitges Arbeiten an modulen in separaten Files</li>
</ul></li>
<li><p>Dient der Code-Wiederverwendung innerhalb von Testplänen und hilft sehr große Testpläne wartbar zu machen</p></li>
<li><p>Details: → <img src="https://www.blazemeter.com/blog/how-manage-large-jmeter-scripts-jmeter-test-fragments" alt="https://www.blazemeter.com/blog/how-manage-large-jmeter-scripts-jmeter-test-fragments" /></p></li>
</ul>
</section>
<section id="testfragment-1" class="level1">
<h1>Testfragment</h1>
<blockquote>
<p>Hilft unterschiedliche Workflows zu unterstützen</p>
</blockquote>
<table>
<thead>
<tr class="header">
<th>Funktionalitäten einer Beispielapp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Login</td>
</tr>
<tr class="even">
<td>Logout</td>
</tr>
<tr class="odd">
<td>User Registration</td>
</tr>
<tr class="even">
<td>Search for Product</td>
</tr>
<tr class="odd">
<td>Select Product</td>
</tr>
<tr class="even">
<td>Order Product with different payment methods</td>
</tr>
<tr class="odd">
<td>Edit Order</td>
</tr>
<tr class="even">
<td>Cancel Order</td>
</tr>
<tr class="odd">
<td>Search for User Profile</td>
</tr>
</tbody>
</table>
<ul>
<li>Workflow 1: User Registration -&gt; Search for Product -&gt; Select Product -&gt; Order Product -&gt; Logout</li>
<li>Workflow 2: Login -&gt; Search for Product -&gt; Select Product -&gt; Order Product -&gt; Logout</li>
<li>Workflow 3: Login -&gt; Search for User -&gt; Cancel Order -&gt; Logout</li>
<li>Workflow 4: Login -&gt; Search for Product</li>
</ul>
<figure>
<img src="assets/include-controller.png" alt="" /><figcaption>Workflow 4</figcaption>
</figure>
</section>
<section id="templates" class="level1">
<h1>Templates</h1>
<blockquote>
<p>Skeleton Script die wiederverwendbar sind um mit einem Projekt zu starten</p>
</blockquote>
<p>Erzeugung eines Templates:</p>
<ul>
<li><p>.jmx-File in /templates abspeichern</p></li>
<li><p>Template.xml öffnen und Daten für eigenes Template ergänzen</p></li>
<li><p>Nach jMeter-Neustart kann Template ausgewählt werden</p></li>
<li><p>Es existier etliche Templates auf Github, z.B. zum Testen von Wordpress-Apps → <img src="https://github.com/jmeter-templates/wordpress" alt="https://github.com/jmeter-templates/wordpress" /></p></li>
</ul>
<blockquote>
<p>Tipp: Aufbau der Beispiel-Templates studieren!</p>
</blockquote>
</section>
<section id="ausführungsreihenfolge" class="level1">
<h1>Ausführungsreihenfolge</h1>
<ul>
<li>Configuration Elements</li>
<li>Pre-Processors</li>
<li>Timers</li>
<li>Sampler</li>
<li>Post-Processors</li>
<li>Assertions</li>
<li>Listeners</li>
</ul>
</section>
<section id="ausführungsreihenfolge-1" class="level1">
<h1>Ausführungsreihenfolge</h1>
<ul>
<li>Timers, Assertions, Pre-/Post-Processors werden nur ausgeführt, wenn es einen Sampler gibt auf den sie sich beziehen können!</li>
<li>Logic-Controller und Sampler werden in der Reihenfolge in der sie im Baum stehen ausgeführt</li>
<li>Andere Testelemente werden entsprechend ihres Scopes ausgeführt</li>
</ul>
<p>Beispiel-Testplan:</p>
<ul>
<li>Controller
<ul>
<li>Post-Processor 1</li>
<li>Sampler 1</li>
<li>Sampler 2</li>
<li>Timer 1</li>
<li>Assertion 1</li>
<li>Pre-Processor 1</li>
<li>Timer 2</li>
<li>Post-Processor 2</li>
</ul></li>
</ul>
<p>Ausführungsreihenfolge:</p>
<p>Pre-Processor 1
Timer 1
Timer 2
Sampler 1
Post-Processor 1
Post-Processor 2
Assertion 1</p>
<p>Pre-Processor 1
Timer 1
Timer 2
Sampler 2
Post-Processor 1
Post-Processor 2
Assertion 1</p>
</section>
<section id="workload-design" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">Workload Design</h1>
</section>
<section id="workload" class="level1">
<h1>Workload</h1>
<p>Definition:</p>
<blockquote>
<p>The amount of work a system has to perform in a given time. In the performance field, a workload usually refers to combined load placed on an application by the set of clients it services</p>
</blockquote>
</section>
<section id="prinzipien" class="level1">
<h1>Prinzipien</h1>
<ul>
<li><p>Vorhersagbarkeit</p></li>
<li><p>Wiederholbarkeit</p></li>
<li><p>Skalierbarkeit</p></li>
</ul>
</section>
<section id="vorhersagbarkeit" class="level1">
<h1>Vorhersagbarkeit</h1>
<blockquote>
<p>Das Verhalten des Systems (z.B. Prozessanfragen, Datenzugriffe, …) sollte während die Workload läuft vorhersehbar sein.</p>
</blockquote>
<p><img src="assets/predictable.png" /></p>
</section>
<section id="wiederholbarkeit" class="level1">
<h1>Wiederholbarkeit</h1>
<blockquote>
<p>Wenn eine Workload mehrere male auf identische Weise ausgeführt wird, sollte die Ergebnis nahezu identisch ausführen. Ansonsten wird eine Performance-Analyse sehr schwer.</p>
</blockquote>
</section>
<section id="skalierbarkeit" class="level1">
<h1>Skalierbarkeit</h1>
<blockquote>
<p>Eine Workload solle mit unterschiedlichen Lasten ausgeführt werden können um die Skalierbarkeit der Anwendung testen zu können.</p>
</blockquote>
</section>
<section id="workload-design-steps" class="level1">
<h1>Workload Design Steps</h1>
<ul>
<li>Design der Applikation</li>
<li>Key-Szenarios identifizieren</li>
<li>Definieren der Metriken</li>
<li>Design der Load</li>
<li>Definieren der Skalierungsregeln</li>
<li>Design des Load-Generators</li>
<li>Festlegung einer Baseline</li>
</ul>
</section>
<section id="design-der-applikation" class="level1">
<h1>Design der Applikation</h1>
<ul>
<li><p>Definieren der Aktoren und Use-Cases → Hilft die Operationen der Workload zu definieren</p></li>
<li><p>Definieren der Operationen</p>
<ul>
<li>Im einfachsten Fall mappt jeder User-Case auf eine Operation</li>
<li>Für sinnvolle Workloads solle die Zahl der benötigen Operation klein gehalten werden (6-8) → Ansonsten schwer zu managen und verstehen</li>
</ul></li>
</ul>
</section>
<section id="key-szenarios-identifizieren" class="level1">
<h1>Key-Szenarios identifizieren</h1>
<ul>
<li>Messbares Szenario: Ein User-Szenario das Performance-getestet werden soll, sollte vollständig messbar sein</li>
<li>Meistbenutzte Szenarios</li>
<li>Business-kritische Szenarios</li>
<li>Ressourcen-intensive Szenarios</li>
<li>Zeitabhängig häufig genutzte Szenarios: z.B. Weihnachts-Liste auf Amazon</li>
<li>Stakeholder-relevante Szenarien</li>
</ul>
</section>
<section id="key-szenarios-identifizieren-1" class="level1">
<h1>Key-Szenarios identifizieren</h1>
<p>Beispiel für eine E-Commerce-Applikation:</p>
<ul>
<li>Browsen des Produktkatalogs</li>
<li>Benutzeraccount anlegen</li>
<li>Nach einem Produkt suchen</li>
<li>Login</li>
<li>Bestellung abschicken</li>
</ul>
<p>Navigationspfade der Key-Szenarios untersuchen</p>
<ul>
<li>Auf welche Arten kann ich z.B. eine Bestellung abschicken</li>
<li>Wie häufig wird welcher Weg genutzt? → Logfiles oder Analysetools (z.B Matomo)</li>
</ul>
</section>
<section id="definieren-der-metriken" class="level1">
<h1>Definieren der Metriken</h1>
<p>Typische Metriken sind:</p>
<ul>
<li><p><strong>Durchsatz:</strong> Wie viele Operation können vom SUT während einer gewissen Zeit verarbeitet werden</p></li>
<li><p><strong>Anwortzeiten:</strong> Zeit zwischen Ende der Anfrage und Beginn der Anwort an das SUT → Macht normalerweise nur Sinn wenn es auch Anforderungen für Antwortzeiten gibt</p></li>
<li><p><strong>Ressourcenverbrauch:</strong> z.B. alle Ressourcen (IO, Memory, …) sollten nicht mehr als 70% der max. Auslastung haben</p></li>
<li><p><strong>Anzahl maximaler Benutzer:</strong> Wie viele Benutzer können gleichzeitig ohne Probleme auf dem SUT arbeiten</p></li>
</ul>
</section>
<section id="design-der-load" class="level1">
<h1>Design der Load</h1>
<ul>
<li><p>der wichtigste Schritt im Workload Design!</p></li>
<li><p>die Relevanz der Workload hängt davon ab wie genau sie die die reale Produktionslast emuliert</p></li>
<li><p>gleichzeit wichtig: die Test-Workload solle sich auf die signifikanten Aspekte der Live-Load konzentrieren → Ansonsten wird es zu kompliziert</p></li>
</ul>
</section>
<section id="design-der-load-1" class="level1">
<h1>Design der Load</h1>
<ul>
<li><p><strong>Arrival Rates:</strong> Die Rate mit der Requests an das SUT gestellt werden</p></li>
<li><p><strong>Think Times:</strong> Zeit zwischen Anzeige der Daten beim Benutzer und seiner nächsten Interaktion → Bei großen Datenmenge steigt diese Zeit</p></li>
<li><p><strong>Browser Mix:</strong> Welche Browser sollen im Test verwendet werden? Chrome, Firefox, …</p></li>
<li><p><strong>Network Mix:</strong> Welche Netzwerkgeschwindigkeiten sollen im Test verwendet werden? z.B. 3G</p></li>
</ul>
</section>
<section id="design-der-load-2" class="level1">
<h1>Design der Load</h1>
<ul>
<li><p><strong>Operation Mix:</strong> Festlegung in welcher Frequenz welche Operation durchgeführt wird → oft prozentual je Operation was sich zu 100% summiert</p>
<ul>
<li>Flat Mix:
<ul>
<li>Einfachste Möglichkeit</li>
<li>wird verwendet wenn Operation unabhängig sind und die gleiche Wahrscheinlichkeit haben</li>
<li>→ Der Mix wählt eine Operation zufällig</li>
</ul></li>
<li>Flat Sequence Mix:
<ul>
<li>Spezifiziert ein Set von Operations-Sequenzen</li>
<li>z.B. Set1=Op1,Op2 und Set2=Op1,Op3</li>
<li>jedem Set wird eine Wahrscheinlichkeit zugeordnet und dementsprechen ausgewählt</li>
</ul></li>
<li>Matrix Mix (Transition Mix):
<ul>
<li>Beschreibt die Überangswahrscheinlichkeiten in einem Markov-Modell</li>
<li>wird häufig bei Web-Apps verwendet</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="design-der-load-3" class="level1">
<h1>Design der Load</h1>
<p>Beispiel-Workload als Matrix-Mix:</p>
<table>
<thead>
<tr class="header">
<th>From</th>
<th>To Page 1</th>
<th>To Page 2</th>
<th>To Page 2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Page 1</td>
<td>0,00 %</td>
<td>80,00%</td>
<td>20,00%</td>
</tr>
<tr class="even">
<td>Page 2</td>
<td>20,00%</td>
<td>39,00%</td>
<td>41,00%</td>
</tr>
<tr class="odd">
<td>Page 3</td>
<td>60,00%</td>
<td>19,00%</td>
<td>21,00%</td>
</tr>
</tbody>
</table>
</section>
<section id="design-der-load-4" class="level1">
<h1>Design der Load</h1>
<ul>
<li><p><strong>Operation Data:</strong></p>
<ul>
<li><p>Abhängig von der Operation müssen für den Request diverse Input-Daten generiert werden</p></li>
<li><p>Um ein realistisches Szenario zu erhalten sollten die Daten variiert werden → Bei 100 Items sollten nicht immer fix 5 selektiert werden</p></li>
<li><p>Best-Practice: Eine klein Zahl an Fehlern durch invalide Daten einfügen um auch Probleme im Error-Handling aufzudecken</p></li>
<li><p>Genieren “echter” Daten kann bei großen Daten problematisch werden → Workload Entwickler müsste all Möglichen Values kennen</p>
<ul>
<li>Uniform Random: Generierung von gleichverteilten Zufallsdaten, z.B. für Anzahl gewählter Items</li>
<li>Non-Uniform Random: in normalfall sind Datenzugriffe nicht gleichverteilt! → Datengenerierung sollte Wahrscheinlichkeit berücksichtigen</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="definieren-der-skalierungsregeln" class="level1">
<h1>Definieren der Skalierungsregeln</h1>
<p>Häufig skaliert man durch Erhöhung der emulierten Benutzer. Weiter Möglichkeiten sind:</p>
<p>Linear Scaling</p>
<ul>
<li>alles wird über einen einzigen Skalierungsfaktor skaliert</li>
<li>z.B. Workload führt Datenzugriffe eines Benutzers aus → Anzahl Benutzer &amp; Anzahl Datenzugriffe werden beide skaliert</li>
<li>Häufig nützlich für “Sizing”-Zwecke</li>
</ul>
<p>Non-linear Scaling:</p>
<ul>
<li>Anwendungen skalieren oft nicht linear</li>
<li>z.B. Anwendung erlaubt Tagging durch Benutzer → mit steigender Anzahl steigt auch die Last je User mit an, z.B. bei der Anzeige der Tags</li>
</ul>
</section>
<section id="design-des-load-generators" class="level1">
<h1>Design des Load-Generators</h1>
<p>Der Load-Generator implementiert die Workload</p>
<p>Dabei sollte beachtet werden:</p>
<ul>
<li><p>Zum simulieren mehrerer Benutzer-Connections sollte <strong>kein</strong> connection-pooling verwendet werden</p></li>
<li><p>Jeder simulierte Nutzer sollte nach Möglichkeit seinen eigenen “Random number generator” (seeded mit unique value) verwenden um wirklich zufällige Daten zu bekommen</p></li>
</ul>
</section>
<section id="festlegung-einer-baseline" class="level1">
<h1>Festlegung einer Baseline</h1>
<blockquote>
<p>“A Baseline is the process of capturing performance metric data for the sole purpose of evaluating the efficacy of successive changes to the system or application. It is important that all characteristics and configurations, except those specifically being varied for comparison, remain the same in order to make effective comparisons as to which change (or series of changes) is driving results toward the targeted goal. Armed with such baseline results, subsequent changes can be made to the system configuration or application and testing results can be compared to see whether such changes were relevant or not.” Some considerations when generating baselines include the following:"</p>
</blockquote>
<p>https://www.oreilly.com/library/view/performance-testing-with/9781787285774/8c67a2ab-7bda-4a64-bb90-6c0b8785ad60.xhtml</p>
</section>
<section id="zeitliche-verteilung-der-last" class="level1">
<h1>Zeitliche Verteilung der Last</h1>
<p>TODO</p>
</section>
<section id="erkennen-der-last-grenzen-server-bedarfs" class="level1">
<h1>Erkennen der Last-Grenzen / Server-Bedarfs</h1>
<blockquote>
<p>Last-Grenzen können sehr gut mittels Stress-Testing ermittelt werden.</p>
</blockquote>
<p>TODO</p>
</section>
<section id="scripting" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">Scripting</h1>
</section>
<section id="beanshell" class="level1">
<h1>BeanShell</h1>
</section>
<section id="jsr223" class="level1">
<h1>JSR223</h1>
</section>
<section id="regex-extractor" class="level1">
<h1>RegEx-Extractor</h1>
</section>
<section id="arbeiten-mit-jars" class="level1">
<h1>Arbeiten mit JARs</h1>
</section>
<section id="reporting" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">Reporting</h1>
</section>
<section id="arten-von-reporting" class="level1">
<h1>Arten von Reporting</h1>
</section>
<section id="ergebnis-analyse" class="level1">
<h1>Ergebnis-Analyse</h1>
</section>
<section id="testdatenverwaltung" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">Testdatenverwaltung</h1>
</section>
<section id="testdaten-in-.json-datei-.csv-datei" class="level1">
<h1>Testdaten in .json-Datei / .csv-Datei</h1>
</section>
<section id="jmeter-funktionen-zur-datengenerierung" class="level1">
<h1>jMeter-Funktionen zur Datengenerierung</h1>
</section>
<section id="rest-apis" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">REST-APIs</h1>
</section>
<section id="nutzung-des-test-rekorders" class="level1">
<h1>Nutzung des Test-Rekorders</h1>
<ul>
<li>Test Plan → Add → Non-Test Elements → HTTP(S) Test Script Recorder</li>
<li>Einstellungen → Port festlegen</li>
<li>Thread Group → Add → Logic Controllers → Recording Controller (Alternativ: später manuell vom Skript-Rekorder kopieren)</li>
<li>Im Browser Proxy auf gleichen Port wie Skript-Rekorder stellen</li>
<li>jMeter-Zertifikat (jMeter/bin/ApacheJMeterTemporaryRootCA.crt) im Browser importieren
<ul>
<li>in Firefox: options → search for ‘certificate’ → view certificates</li>
<li>Haken bei “Trust Website” setzen</li>
</ul></li>
<li>Test aufzeichnen</li>
</ul>
</section>
<section id="testen-mit-http-request" class="level1">
<h1>Testen mit “Http-Request”</h1>
</section>
<section id="umgang-mit-sessionsauthentification" class="level1">
<h1>Umgang mit Sessions/Authentification</h1>
<ul>
<li>JWT-Token erhalten
<ul>
<li>Bei Cookies: in <strong>jmeter.properties</strong> folgendes setzen: <strong>CookieManager.save.cookies=true</strong> → macht Cookies als Variablen verfügbar</li>
<li>Bei Localstorage: jMeter-Integration mit Selenium nutzen</li>
<li>JWT mittels Regex aus Login-Response extrahieren</li>
</ul></li>
<li>setzen des Authorization-Headers mittels <strong>HTTP Header Manager</strong>: z.B. auf ${COOKIE_Authorization} falls die Cookie-Variable <em>Authorization</em> heißt</li>
</ul>
<figure>
<img src="cookie-session.png" alt="" /><figcaption>HTTP Header Manager-Beispiel</figcaption>
</figure>
</section>
<section id="umgang-mit-dynamischen-daten" class="level1">
<h1>Umgang mit dynamischen Daten</h1>
</section>
<section id="verteiltes-testen-mit-jmeter" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">Verteiltes Testen mit jMeter</h1>
</section>
<section id="master-slave-setup" class="level1">
<h1>Master-Slave-Setup</h1>
<p><img src="distributed_jmeter.webp" /></p>
</section>
<section id="master-slave-setup-1" class="level1">
<h1>Master-Slave-Setup</h1>
<ul>
<li>setup multiple computers/vms/containers</li>
<li>auf jedem slave: run jmeter-server: <strong>bin/jmeter-server.bat</strong></li>
<li>auf dem master:
<ul>
<li>edit <strong>bin/jmeter.properties</strong>: füge alle IPs der slave-systeme komma-separiert unter remote_hosts hinzu (master/slaves müssen im selben Subnetz sein!)</li>
</ul></li>
<li>run test
<ul>
<li>via GUI</li>
<li>non-GUI
<ul>
<li><code>jmeter -n -t script.jmx -r</code></li>
<li><code>jmeter -n -t script.jmx -R server1,server2,...</code></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="master-slave-setup-2" class="level1">
<h1>Master-Slave-Setup</h1>
<ul>
<li>Jedes Slave-System führt die im Master definierten Dinge aus
<ul>
<li>wollen wir für 10000 Nutzer testen und haben 10 Slaves → Im Testplan muss für 1000Nutzer geplant werden, damit wir am Ende auf ingesamt 10000 kommen!</li>
</ul></li>
<li>Über den if-Controller lassen sich auf den einzelnen Slaves unterschiedliche Dinge ausführen</li>
</ul>
</section>
<section id="testausführung-über-cli" class="level1">
<h1>Testausführung über CLI</h1>
</section>
<section id="rmi" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">RMI</h1>
</section>
<section id="diskussion-aktueller-verwendeter-rmi-sampler" class="level1">
<h1>Diskussion: aktueller verwendeter RMI-Sampler</h1>
</section>
<section id="vergleich-mit-existierende-rmi-samplern-auf-github" class="level1">
<h1>Vergleich mit existierende RMI-Samplern auf Github</h1>
</section>
<section id="monitoring" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">Monitoring</h1>
</section>
<section id="prometheus-grafana" class="level1">
<h1>Prometheus / Grafana</h1>
</section>
<section id="yourkit-profiler" class="level1">
<h1>YourKit-Profiler</h1>
</section>
<section id="containerisierung" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">Containerisierung</h1>
</section>
<section id="iac-infrastructure-as-a-code" class="level1">
<h1>IaC: Infrastructure as a Code</h1>
<blockquote>
<p>Mit IaC (Infrastructure as Code) wird die Infrastruktur durch Code – und nicht durch manuelle Prozesse – verwaltet und provisioniert.</p>
</blockquote>
<blockquote>
<p>Mit IaC werden Konfigurationsdateien erstellt, die Ihre gesamten Infrastrukturspezifikationen enthalten, wodurch Sie Konfigurationen einfacher bearbeiten und verteilen können.
Es stellt außerdem sicher, dass Sie jedes Mal dieselbe Umgebung provisionieren.</p>
</blockquote>
<blockquote>
<p>Ein wichtiger Bestandteil von IaC ist die Versionskontrolle. Wie jede andere Software-Quellcodedatei sollten auch Ihre Konfigurationsdateien der Quellkontrolle unterliegen.</p>
</blockquote>
</section>
<section id="vagrant-ansible" class="level1">
<h1>Vagrant + Ansible</h1>
<p>Ansible Playbook: <a href="https://galaxy.ansible.com/lean_delivery/jmeter">https://galaxy.ansible.com/lean_delivery/jmeter</a></p>
</section>
<section id="docker-docker-compose" class="level1">
<h1>Docker / Docker-Compose</h1>
</section>
<section id="kubernetes" class="level1">
<h1>Kubernetes</h1>
</section>
<section id="cicd-pipeline" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">CI/CD-Pipeline</h1>
</section>
<section id="github-actions" class="level1">
<h1>Github Actions</h1>
<p>https://github.com/marketplace/actions/setup-jmeter
https://github.com/marketplace/actions/apache-jmeter
https://github.com/marketplace/actions/perfaction-for-jmeter
https://www.redline13.com/blog/2021/10/github-actions-for-jmeter/
https://dev.to/sebiboga/generate-jmeter-test-report-and-save-it-as-artifact-with-github-actions-4a6b
https://stackoverflow.com/questions/68084554/fail-github-actions-pipeline-if-dockerized-jmeter-tests-failed</p>
</section>
<section id="jmeter-in-einer-github-actions-pipeline" class="level1">
<h1>jMeter in einer Github-Actions Pipeline</h1>
</section>
<section id="jmeter-in-einer-jenkins-pipeline" class="level1">
<h1>JMeter in einer Jenkins-Pipeline</h1>
</section>
<section id="klärung-offener-punkt" class="level1 light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">
<h1 class="light-on-dark" data-bgcss="sea-gradient" data-x="0" data-y="0" data-rz="-.1" data-state="sea-gradient">Klärung offener Punkt</h1>
<pre><code></code></pre>
</section>

        </div>
    </div>

    <script src="assets/3rdparty/jquery.js"></script>

    <script type="module">
        import Reveal from "./assets/framework/reveal.js/dist/reveal.esm.js";
        import Markdown from "./assets/framework/reveal.js/plugin/markdown/markdown.esm.js";
        import Notes from "./assets/framework/reveal.js/plugin/notes/notes.esm.js";

        let deck = new Reveal();
        window.Reveal = deck;

        deck.initialize({
            width: 1280,
            height: 740,
            margin: 0.1,
            minScale: 0.2,
            maxScale: 2.5,
            controls: '',
            controlsTutorial: 'false',
            controlsLayout: 'bottom-right',
            controlsBackArrows: 'faded',
            progress: 'true',
            defaultTiming: (Number(120) >= 0) ? Number(120) : 120,
            slideNumber: 'false',
            history: 'true',
            keyboard: 'true',
            overview: 'true',
            center: 'true',
            touch: 'true',
            loop: '',
            rtl: '',
            shuffle: '',
            fragments: 'true',
            embedded: 'false',
            help: 'true',
            showNotes: '',
            autoPlayMedia: '',

            autoSlide: (window.pdf_render) ? 0 : Number(0),

            autoSlideStoppable: 'true',
            autoSlideMethod: 'Reveal.navigateNext',
            mouseWheel: 'false',
            hideAddressBar: 'true',
            previewLinks: 'false',
            transition: 'slide',
            transitionSpeed: 'default',
            backgroundTransition: 'fade',
            viewDistance: (Number(3) >= 0) ? Number(3) : 3,

            parallaxBackgroundImage: '',
            parallaxBackgroundSize: '',
            parallaxBackgroundHorizontal: (null != null && Number(null) >= 0) ? Number(null) : null,
            parallaxBackgroundVertical: (null != null && Number(null) >= 0) ? Number(null) : null,

            theme: '',

            plugins: [ Markdown, Notes ]
        });

        function calc_offset_left() {
            return jQuery(".slides").offset().left / deck.getScale();
        }

        function flushleft(selector) {
            function deoffset() {
                // console.log("flushleft");
                var rel_offset_left = calc_offset_left();
                jQuery(selector).each(function(i, e){
                    jQuery(this).css({"margin-left": "-" + rel_offset_left + "px"});
                });
            }
            deoffset();
            if (window.pdf_render) {
                setTimeout(deoffset, 50);
            } else {
                jQuery(window).on("resize", deoffset);
            }
        }

        function centerleft(selector) {
            function deoffset() {
                // console.log("centerleft");
                var rel_offset_left = calc_offset_left() / 2;
                jQuery(selector).each(function(i, e){
                    jQuery(this).css({"margin-left": "-" + rel_offset_left + "px"});
                });
            }
            deoffset();
            if (window.pdf_render) {
                setTimeout(deoffset, 50);
            } else {
                jQuery(window).on("resize", deoffset);
            }
        }

        jQuery(".flushleft").children(".flushleft").removeClass("flushleft");
        flushleft(".slides section.flushleft");
    </script>

    <script src='assets/markdeck/highlight.js'></script>
    <script src='assets/markdeck/highlightjs-line-numbers.min.js'></script>
    <script>
        window.hljs = hljs;
        hljs.initHighlightingOnLoad();
        hljs.initLineNumbersOnLoad();
    </script>

    
    <script>
        jQuery("pre.render_mermaid").each(function(i, old) {
            var p = jQuery('<p>' + jQuery(old).children("code").text() + '</p>');
            var attributes = jQuery(old).prop("attributes");
            jQuery.each(attributes, function() {
                p.attr(this.name, this.value);
            });
            p.addClass("mermaid");
            old.replaceWith(p[0]);
        });
    </script>
    <script src="assets/3rdparty/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true, theme:'forest'});</script>

    <script>
        // add notes class to make sure controls are always displayed on the
        // speaker notes
        if (window.self !== window.top) {
            document.body.className += " notes";
        }

        document.body.className += " mytheme";
    </script>


</body>
</html>
